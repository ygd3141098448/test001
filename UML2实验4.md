# 针对员工考勤系统的核心用例，建立模型描述其基本路径的交互

### 1. 维护个人考勤 - Employee 维护个人考勤

##### 1.1. 基本路径的交互：

1. **录入考勤信息：**
   - 员工通过 `EmployeeUI` 进入录入考勤信息界面。
   - 系统显示录入考勤信息的表单。
   - 员工输入考勤信息（日期、工作小时、项目等）。
   - 系统调用 `EmployeeManager` 的 `recordAttendance()` 方法，验证员工身份和权限。
   - `EmployeeManager` 记录考勤信息到 `Attendance` 实体中，包括日期、工作小时、项目等信息。
   - 系统显示成功消息，完成录入考勤信息。

##### 1.2. 异常路径的交互：

- 如果员工没有权限录入考勤信息：
  - 系统显示错误消息，提示员工没有足够的权限。

### 2. 计算工资 - 系统自动计算工资信息

##### 2.1. 基本路径的交互：

1. **系统自动触发工资信息生成：**
   - 在每个周五和每个月末，系统自动触发工资信息生成。
   - `AttendanceSystem` 调用 `SalaryCalculator` 计算所有员工的工资。
   - `SalaryCalculator` 获取每位员工的考勤信息（从 `Attendance` 实体）和工资级别（通过 `LegacyDatabaseAccessor` 访问遗留数据库）。
   - 计算每位员工的工资金额，包括加班计算、提成计算等。
   - `SalaryCalculator` 将计算后的工资信息记录到 `SalaryRecord` 实体中。
   - 系统完成工资信息生成，等待项目经理确认。

##### 2.2. 异常路径的交互：

- 如果系统无法获取员工的考勤信息或工资级别信息：
  - 系统记录错误日志并通知管理员。

### 3. 查看考勤信息 - Employee 查看个人考勤信息

##### 3.1. 基本路径的交互：

1. **员工查看个人考勤信息：**
   - 员工通过 `EmployeeUI` 进入查看考勤信息界面。
   - 系统显示员工的考勤信息，包括日期、工作小时、项目等。
   - 员工查看个人考勤信息。

### 4. 查看工资支付信息 - Employee 查看个人工资支付信息

##### 4.1. 基本路径的交互：

1. **员工查看个人工资支付信息：**
   - 员工通过 `EmployeeUI` 进入查看工资支付信息界面。
   - 系统显示员工的工资支付信息，包括工资计算日期、工资金额等。
   - 员工查看个人工资支付信息。

##### 4.2. 异常路径的交互：

- 如果员工没有工资支付信息：
  - 系统显示消息通知员工当前没有可查看的工资支付信息。

### 5. 项目经理确认工资信息 - ProjectManager 确认工资信息

##### 5.1. 基本路径的交互：

1. **项目经理确认工资信息：**
   - 项目经理通过 `ProjectManagerUI` 进入确认工资信息界面。
   - 系统显示待确认的工资信息列表，包括员工姓名、工资计算日期、工资金额等。
   - 项目经理选择某条工资信息进行确认。
   - `ConfirmationManager` 调用确认方法，更新工资信息的状态为已确认。
   - 系统显示成功消息，完成工资信息确认。

##### 5.2. 异常路径的交互：

- 如果项目经理没有足够的权限确认工资信息：
  - 系统显示错误消息，提示项目经理没有足够的权限。

这些基本路径的交互描述了员工考勤系统核心用例在正常和一些异常情况下的执行流程。在实际系统设计中，还需要考虑其他详细的业务规则以保证系统的完整性和健壮性。



根据员工考勤系统的开发背景和问题陈述，我们可以从中提取核心用例，并建立模型描述其基本路径的交互。以下是该系统的核心用例和相应的时序图模型的设计：

### 核心用例：

1. **维护个人考勤**

   - 提交考勤
   - 添加新考勤
2. **计算工资**

   - 按时计算小时工工资
   - 按月计算普通员工工资
   - 提成计算销售人员工资
3. **查看考勤信息**

   - 查看本月考勤信息
   - 查看历史考勤信息
4. **查看工资支付信息**

   - 查看本月工资支付信息
   - 查看历史工资支付信息
5. **项目经理权限**

   - 查看和编辑项目组内部所有员工信息

### 时序图模型设计：

#### 1. 维护个人考勤 - 提交考勤


- 用户（员工）提交考勤信息。
- 系统接收并存储考勤信息。

#### 2. 维护个人考勤 - 添加新考勤


- 用户（员工）添加新的考勤信息。
- 系统接收并存储新的考勤信息。

#### 3. 计算工资 - 按时计算小时工工资


- 系统按照小时工的考勤信息和工资级别代码计算工资。

#### 4. 计算工资 - 按月计算普通员工工资


- 系统按照普通员工的考勤信息和工资级别代码计算工资。

#### 5. 计算工资 - 提成计算销售人员工资


- 系统根据销售人员的订单情况和提成比例计算工资。

#### 6. 查看考勤信息


- 用户查看本月和历史的考勤信息。

#### 7. 查看工资支付信息


- 用户查看本月和历史的工资支付信息。

#### 8. 项目经理权限


- 项目经理查看和编辑项目组内部所有员工信息。

### 注意事项：

- 在时序图中，注意标识消息的方向，以及交互的顺序和时序。
- 每个核心用例可能需要进一步的详细设计，包括异常流程和条件。
- 在系统中添加权限控制，确保用户只能访问和编辑自己的信息。
- 每个月末和每个周五的自动运行和提醒需要在时序图中进行合适的表示。
- 为了更好地满足实际需求，可能需要进一步与利益相关者进行沟通和澄清。

以上时序图是一个基本的设计示例，实际应用中可能需要更详细的设计来满足系统的需求。
